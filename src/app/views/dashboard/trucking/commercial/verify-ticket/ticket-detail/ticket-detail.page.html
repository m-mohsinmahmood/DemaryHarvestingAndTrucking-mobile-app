<!-- Ticket Generation of Commercial-->
<app-header [title]="'Verify Commercial Ticket'" [color]="'trucking'" *ngIf="role === 'dispatcher'"></app-header>

<ion-content *ngIf="role === 'dispatcher'">
  <!-- <app-timer [value]="'22-22-2022'"></app-timer> -->

  <!--------Role Dispatcher ------------->
  <ion-grid>
    <ion-card>
      <ion-card-header>
        <ion-card-title class="flex justify-center text-xl font-Lato">Commercial Delivery Ticket</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <!-- First Row -->
        <ion-row class="h-20 flex content-center pl-4">
          <ion-col size="6" class="flex flex-col ">
            <p class="font-Lato text-black font-bold font-14">Ticket #</p>
            <span class="font-Lato font-14">{{data.id}}</span>
          </ion-col>
          <ion-col size="6" class="flex flex-col  ">
            <p class="font-Lato text-black font-bold font-14">Dispatcher</p>
            <span class="font-Lato font-14">{{data.dispatcherName}}</span>
          </ion-col>
        </ion-row>

        <ion-row class="h-20 flex content-center pl-4">
          <ion-col size="6" class="flex flex-col ">
            <p class="font-Lato text-black font-bold font-14">Customer</p>
            <span class="font-Lato font-14">{{data.customerName}}</span>
          </ion-col>
          <ion-col size="6" class="flex flex-col  ">
            <p class="font-Lato text-black font-bold font-14">Driver</p>
            <span class="font-Lato font-14">{{data.truckDriverName}}</span>
          </ion-col>
        </ion-row>

        <ion-row class="h-20 flex content-center pl-4">
          <ion-col size="6" class="flex flex-col ">
            <p class="font-Lato text-black font-bold font-14">Load Date</p>
            <span class="font-Lato font-14"></span>
          </ion-col>
          <ion-col size="6" class="flex flex-col  ">
            <p class="font-Lato text-black font-bold font-14">Load #</p>
            <span class="font-Lato font-14"></span>
          </ion-col>
        </ion-row>

        <ion-row class="h-20 flex content-center pl-4">
          <ion-col size="6" class="flex flex-col ">
            <p class="font-Lato text-black font-bold font-14">Origin City</p>
            <span class="font-Lato font-14">{{data.origincity}}</span>
          </ion-col>
          <ion-col size="6" class="flex flex-col  ">
            <p class="font-Lato text-black font-bold font-14">Destination State</p>
            <span class="font-Lato font-14">{{data.destinationstate}}</span>
          </ion-col>
        </ion-row>

        <ion-row class="h-20 flex content-center pl-4">
          <ion-col size="6" class="flex flex-col ">
            <p class="font-Lato text-black font-bold font-14">Destination City</p>
            <span class="font-Lato font-14">{{data.destinationcity}}</span>
          </ion-col>
          <ion-col size="6" class="flex flex-col  ">
            <p class="font-Lato text-black font-bold font-14">Cargo</p>
            <span class="font-Lato font-14">{{data.cargo}}</span>
          </ion-col>
        </ion-row>

        <ion-row class="h-20 flex content-center pl-4">
          <ion-col size="6" class="flex flex-col ">
            <p class="font-Lato text-black font-bold font-14">Truck #</p>
            <span class="font-Lato font-14">{{data.truckno}}</span>
          </ion-col>
          <ion-col size="6" class="flex flex-col  ">
            <p class="font-Lato text-black font-bold font-14">Home BOR</p>
            <span class="font-Lato font-14">{{data.home_bor}}</span>
          </ion-col>
        </ion-row>

        <ion-row class="h-20 flex content-center pl-4">
          <ion-col size="6" class="flex flex-col ">
            <p class="font-Lato text-black font-bold font-14">Origin Empty Weight</p>
            <span class="font-Lato font-14">{{data.origin_empty_weight}}</span>
          </ion-col>
          <ion-col size="6" class="flex flex-col  ">
            <p class="font-Lato text-black font-bold font-14">Rate Type</p>
            <span class="font-Lato font-14">{{data.rate_type}}</span>
          </ion-col>
        </ion-row>

        <ion-row class="h-20 flex content-center pl-4">
          <ion-col size="6" class="flex flex-col ">
            <p class="font-Lato text-black font-bold font-14">Desgination BOR</p>
            <span class="font-Lato font-14">{{data.destination_bor}}</span>
          </ion-col>
          <ion-col size="6" class="flex flex-col  ">
            <p class="font-Lato text-black font-bold font-14">Origin Loaded Weight</p>
            <span class="font-Lato font-14">{{data.origin_loaded_weight}}</span>
          </ion-col>
        </ion-row>

        <ion-row class="h-20 flex content-center pl-4">
          <ion-col size="6" class="flex flex-col ">
            <p class="font-Lato text-black font-bold font-14">Origin Weight of Load</p>
            <span class="font-Lato font-14">{{data.origin_weight_of_load}}</span>
          </ion-col>
          <ion-col size="6" class="flex flex-col  ">
            <p class="font-Lato text-black font-bold font-14">Origin BOR</p>
            <span class="font-Lato font-14"></span>
          </ion-col>
        </ion-row>

        <ion-row class="h-20 flex content-center pl-4">
          <ion-col size="6" class="flex flex-col ">
            <p class="font-Lato text-black font-bold font-14">Total Trip Miles</p>
            <span class="font-Lato font-14">{{data.total_trip_miles}}</span>
          </ion-col>
          <ion-col size="6" class="flex flex-col  ">
            <p class="font-Lato text-black font-bold font-14">Dead Head Miles</p>
            <span class="font-Lato font-14">{{data.dead_head_miles}}</span>
          </ion-col>
        </ion-row>

        <ion-row class="h-20 flex content-center pl-4">
          <ion-col size="6" class="flex flex-col ">
            <p class="font-Lato text-black font-bold font-14">Dispatcher Notes</p>
            <span class="font-Lato font-14">{{data.dispatcher_notes}}</span>
          </ion-col>
          <ion-col size="6" class="flex flex-col  ">
            <p class="font-Lato text-black font-bold font-14">Total Job Miles</p>
            <span class="font-Lato font-14">{{data.total_job_miles}}</span>
          </ion-col>
        </ion-row>

        <ion-row class="h-20 flex content-center pl-4">
          <ion-col size="6" class="flex flex-col ">
            <p class="font-Lato text-black font-bold font-14">Destination Empty Weight</p>
            <span class="font-Lato font-14">{{data.destination_empty_weight}}</span>
          </ion-col>
          <ion-col size="6" class="flex flex-col  ">
            <p class="font-Lato text-black font-bold font-14">Destination Loaded Weight</p>
            <span class="font-Lato font-14">{{data.destination_loaded_weight}}</span>
          </ion-col>
        </ion-row>

        <ion-row class="h-20 flex content-center pl-4">
          <ion-col size="6" class="flex flex-col ">
            <p class="font-Lato text-black font-bold font-14">Destination (Delivery Load)</p>
            <span class="font-Lato font-14">{{data.destination_delivery_load}}</span>
          </ion-col>
        </ion-row>

        <!-- Second Row -->

        <ion-row class="h-20 flex content-center pl-4">
          <ion-col size="12" class="flex flex-col ">
            <span class="font-Lato font-14">Load Rate Sheet (Pictures)</span>
          </ion-col>
        </ion-row>

        <ion-row class="h-20 flex content-center pl-4">
          <ion-col size="4">
            <ion-img src="https://docs-demo.ionic.io/assets/madison.jpg"></ion-img>
          </ion-col>
          <ion-col size="4">
            <ion-img src="https://docs-demo.ionic.io/assets/madison.jpg"></ion-img>
          </ion-col>
          <ion-col size="4">
            <ion-img src="https://docs-demo.ionic.io/assets/madison.jpg"></ion-img>
          </ion-col>
        </ion-row>

        <ion-button expand="block" class="mt-5 font-Lato  text-white"
          (click)="navigateTo('/tabs/home/trucking/commercial')">
          Verify
        </ion-button>

      </ion-card-content>
    </ion-card>
  </ion-grid>
</ion-content>

<!----------- Role Truck Driver ------------>
<app-header [title]="'Existing Delivery Ticket'" [color]="'trucking'" *ngIf="role === 'truck-driver'"></app-header>

<ion-content *ngIf="role === 'truck-driver'">
  <!-- <app-timer [value]="'22-22-2022'"></app-timer> -->
  <form class="p-4" [formGroup]="createFormTruckCommercial">

    <ion-list>
      <div class="col-span-12 mb-4">
        <label class="block text-sm font-medium text-gray-700">Delivery Ticket #<span class="text-red-600"
            *ngIf="this.createFormTruckCommercial.get('ticketNo').hasError('required')">*</span></label>
        <input
          class="mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"
          formControlName="ticketNo" placeholder="Ticket #" readonly>
      </div>

      <!-- Machinery #-->
      <div role="dialog" aria-modal="true">
        <div class="mb-4 relative z-100">
          <div class="mx-auto max-w-full transform rounded-xl px-0  transition-all">
            <label class="block text-sm font-medium text-gray-700 mb-1">Truck # <span *ngIf="isMachinerySelected"
                class="text-red-400">*</span></label>
            <div class="flex items-center justify-between gap-x-2 rounded-md">
              <input (keyup)="machinery_search$.next($event.target.value)" [value]="machinery_name"
                (click)="inputClickedMachinery()" #machineryInput
                class="w-full px-4 py-2.5 text-gray-900  placeholder-gray-500 rounded-md border border-gray-300 focus:border-indigo-500 focus:outline-none focus:ring-indigo-500"
                placeholder="Select Truck" role="" aria-expanded="false" aria-controls="options">
            </div>

            <div *ngIf="allMachinery | withLoading | async as allMachinery">
              <div class="flex justify-center items-center">
                <ion-spinner *ngIf="allMachinery?.loading" name="crescent" mode="indeterminate"
                  color="primary"></ion-spinner>
              </div>
              <ul *ngIf="allMachinery?.value && machineryUL"
                class="mb-2 max-h-44 scroll-py-2 overflow-y-auto py-2 text-sm text-gray-800 bg-white drop-shadow-lg relative w-full"
                id="options" role="listbox">
                <li *ngFor="let machinery of (allMachinery?.value.machinery)" (click)="listClickedMachinery(machinery)"
                  class="cursor-pointer select-none rounded-md px-4 py-2 hover:bg-gray-200" role="option" tabindex="-1">
                  <div class="flex items-center p-2">
                    {{machinery.type}}
                  </div>
                </li>
              </ul>
              <div *ngIf="allMachinery?.value?.machinery?.length === 0">
                <div
                  class="cursor-pointer select-none rounded-md px-4 py-2 hover:bg-gray-200 text-gray-500 hover:text-gray-700 hover:font-semibold"
                  disabled role="option" tabindex="-1"> No Machinery(s) found </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-span-12 mb-4">
        <label class="block text-sm font-medium text-gray-700">Home Base (Beginning) Odometer Reading<span
            class="text-red-600"
            *ngIf="this.createFormTruckCommercial.get('homeBeginingOdometerReading').hasError('required')">*</span></label>
        <input
          class="mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"
          formControlName="homeBeginingOdometerReading" placeholder="Odometer Reading">
      </div>

      <div class="col-span-12 mb-4">
        <label class="block text-sm font-medium text-gray-700">Origin (Beginning) Odometer Reading<span
            class="text-red-600"
            *ngIf="this.createFormTruckCommercial.get('originBeginingOdometerReading').hasError('required')">*</span></label>
        <input
          class="mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"
          formControlName="originBeginingOdometerReading" placeholder="Origin (Beginning) Odometer Reading">

      </div>

      <div class="col-span-12 mb-4">
        <label class="block text-sm font-medium text-gray-700">Origin Empty Weight<span class="text-red-600"
            *ngIf="this.createFormTruckCommercial.get('originEmptyWeight').hasError('required')">*</span></label>
        <input
          class="mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"
          formControlName="originEmptyWeight" placeholder="Origin Empty Weight">
      </div>

      <div class="col-span-12 mb-4">
        <label class="block text-sm font-medium text-gray-700">Origin Loaded Weight<span class="text-red-600"
            *ngIf="this.createFormTruckCommercial.get('originLoadedWeight').hasError('required')">*</span></label>
        <input
          class="mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"
          formControlName="originLoadedWeight" placeholder="Origin Empty Weight">
      </div>

      <div class="col-span-12 mb-4">
        <label class="block text-sm font-medium text-gray-700">Origin Weight of Load<span class="text-red-600"
            *ngIf="this.createFormTruckCommercial.get('originWeightLoad').hasError('required')">*</span></label>
        <input
          class="mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"
          formControlName="originWeightLoad" placeholder="Origin Weight of Load">
      </div>

      <!-- Origin Docs Start-->
      <label class="block text-sm font-medium text-gray-700">Origin Documents</label>

      <div class="mt-4 mb-4">
        <ion-row class="h-20 flex content-center p-4">
          <ion-col size="4">
            <ion-img src="https://docs-demo.ionic.io/assets/madison.jpg"></ion-img>
          </ion-col>
          <ion-col size="4">
            <ion-img src="https://docs-demo.ionic.io/assets/madison.jpg"></ion-img>
          </ion-col>
          <ion-col size="4">
            <ion-img src="https://docs-demo.ionic.io/assets/madison.jpg"></ion-img>
          </ion-col>
        </ion-row>
      </div>
      <!-- Origin Docs End-->

      <div class="col-span-12 mb-4">
        <label class="block text-sm font-medium text-gray-700">Destination Ending Odometer Reading<span
            class="text-red-600"
            *ngIf="this.createFormTruckCommercial.get('destinationEndingOdometerReading').hasError('required')">*</span></label>
        <input
          class="mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"
          formControlName="destinationEndingOdometerReading" placeholder="Destination Ending Odometer Reading">
      </div>

      <div class="col-span-12 mb-4">
        <label class="block text-sm font-medium text-gray-700">Destination Loaded Weight<span class="text-red-600"
            *ngIf="this.createFormTruckCommercial.get('destinationLoadedWeight').hasError('required')">*</span></label>
        <input
          class="mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"
          formControlName="destinationLoadedWeight" placeholder="Destination Loaded Weight">

      </div>

      <div class="col-span-12 mb-4">
        <label class="block text-sm font-medium text-gray-700">Destination Empty Weight<span class="text-red-600"
            *ngIf="this.createFormTruckCommercial.get('destinationEmptyWeight').hasError('required')">*</span></label>
        <input
          class="mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"
          formControlName="destinationEmptyWeight" placeholder="Destination Empty Weight">

      </div>

      <div class="col-span-12 mb-4">
        <label class="block text-sm font-medium text-gray-700">Weight of Load<span class="text-red-600"
            *ngIf="this.createFormTruckCommercial.get('weightLoad').hasError('required')">*</span></label>
        <input
          class="mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"
          formControlName="weightLoad" placeholder="Weight of Load">
      </div>

      <div class="col-span-12 mb-4">
        <label class="block text-sm font-medium text-gray-700">Scale Ticket #/BOL #<span class="text-red-600"
            *ngIf="this.createFormTruckCommercial.get('scaleTicket').hasError('required')">*</span></label>
        <input
          class="mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"
          formControlName="scaleTicket" placeholder="Scale Ticket #/BOL #">
      </div>

      <div class="col-span-12 mb-4">
        <label class="block text-sm font-medium text-gray-700">Destination (Delivery Load)<span class="text-red-600"
            *ngIf="this.createFormTruckCommercial.get('destinationDeliveryLoad').hasError('required')">*</span></label>
        <input
          class="mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"
          formControlName="destinationDeliveryLoad" placeholder="Destination (Delivery Load)">

      </div>

      <!-- Origin Docs Start-->
      <label class="block text-sm font-medium text-gray-700">Origin Documents</label>

      <div class="mt-4 mb-4">
        <ion-row class="h-20 flex content-center p-4">
          <ion-col size="4">
            <ion-img src="https://docs-demo.ionic.io/assets/madison.jpg"></ion-img>
          </ion-col>
          <ion-col size="4">
            <ion-img src="https://docs-demo.ionic.io/assets/madison.jpg"></ion-img>
          </ion-col>
          <ion-col size="4">
            <ion-img src="https://docs-demo.ionic.io/assets/madison.jpg"></ion-img>
          </ion-col>
        </ion-row>
      </div>
      <!-- Origin Docs End-->

      <div class="col-span-12 mb-4">
        <label class="block text-sm font-medium text-gray-700">Total Trip Miles</label>
        <input
          class="mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"
          readonly formControlName="totalTripMiles">
      </div>

      <div class="col-span-12 mb-4">
        <label class="block text-sm font-medium text-gray-700">Dead Head Miles</label>
        <input
          class="mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"
          readonly formControlName="deadHeadMiles">
      </div>

      <div class="col-span-12 mb-4">
        <label class="block text-sm font-medium text-gray-700">Total Job Miles</label>
        <input
          class="mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"
          readonly formControlName="totalJobMiles">
      </div>

      <div class="col-span-12 mb-4">
        <label class="block text-sm font-medium text-gray-700">Driver Notes<span class="text-red-600"
            *ngIf="this.createFormTruckCommercial.get('truckDriverNotes').hasError('required')">*</span></label>
        <input
          class="mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"
          formControlName="truckDriverNotes" placeholder="Driver Notes">
      </div>

      <ion-button expand="block" class="mt-5 font-Lato text-white" (click)="submitExistingTicket()"
        [disabled]="this.createFormTruckCommercial.invalid">Save
        and
        Submit
      </ion-button>
    </ion-list>
  </form>
</ion-content>
