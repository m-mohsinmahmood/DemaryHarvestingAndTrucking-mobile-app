
<app-header [title]="'Assign Roles'" [color]="'harvesting'"></app-header>

<ion-content>
  <app-timer [value]="'13:03:344'"></app-timer>

<div class="p-2 px-4">
  <form [formGroup]="assignForm">
    <!-- Combine Operator -->
<div class="px-2">
  <div
      [ngClass]="'opacity-100 visible ease-in duration-200'"
      class="" role="dialog" aria-modal="true">

      <div
        [ngClass]="'opacity-100 visible scale-100 ease-in duration-200'"
        class="mb-4 relative z-20">
        <div class="mx-auto max-w-full transform rounded-xl px-0 transition-all">
          <label class="block text-sm font-medium text-gray-700 mb-1">Combine Operator <span
            *ngIf="isCombineSelected"
            class="text-red-400">*</span></label>
          <div class="flex items-center justify-between gap-x-2 rounded-md">
            <input (keyup)="combine_search$.next($event.target.value)"
             (click)="inputClickedCombine()" [value]="combine_name"
             #combineInput
             class="{{isFieldDisabled? 'pointer-events-none bg-gray-200 w-full px-4 py-2.5 text-gray-900  placeholder-gray-500 rounded-md border border-gray-300 focus:border-indigo-500 focus:outline-none focus:ring-indigo-500': 'w-full px-4 py-2.5 text-gray-900  placeholder-gray-500 rounded-md border border-gray-300 focus:border-indigo-500 focus:outline-none focus:ring-indigo-500'}}"
             placeholder="Select Combine" role="" aria-expanded="false" aria-controls="options">
          </div>

          <div *ngIf="allCombineOperators | withLoading | async as allCombineOperators" class="">
            <div class="flex justify-center items-center">
              <ion-spinner *ngIf="allCombineOperators?.loading" name="crescent" mode="indeterminate"
                color="primary"></ion-spinner>
            </div>
            <ul *ngIf="allCombineOperators?.value && combineUL"
              class="-mb-2 max-h-44 scroll-py-2 overflow-y-auto py-2 text-sm text-gray-800 bg-white drop-shadow-lg absolute w-full"
              id="options" role="listbox">
              <li *ngFor="let combineOperators of (allCombineOperators?.value.employees)" (click)="listClickedCombine(combineOperators)"
                class="cursor-pointer select-none rounded-md px-4 py-2 hover:bg-gray-200" role="option"
                tabindex="-1">
                <div class="flex items-center p-2">
                  {{combineOperators.first_name}} {{combineOperators.last_name}}
                </div>
              </li>
            </ul>
            <div *ngIf="combineUL?.value?.employees?.length === 0">
              <p disabled
                class="cursor-pointer select-none rounded-md px-4 py-2 hover:bg-gray-200 text-gray-500 hover:text-gray-700 hover:font-semibold">
                No combine operator(s) found </p>
            </div>
          </div>
        </div>
      </div>
    </div>
</div>
<!-- Cart Operator -->
<div class="px-2">
  <div
      [ngClass]="'opacity-100 visible ease-in duration-200'"
      class="" role="dialog" aria-modal="true">

      <div
        [ngClass]="'opacity-100 visible scale-100 ease-in duration-200'"
        class="mb-4 relative z-10">
        <div class="mx-auto max-w-full transform rounded-xl px-0 transition-all">
          <label class="block text-sm font-medium text-gray-700 mb-1">Cart Operator <span
            *ngIf="isCartSelected"
            class="text-red-400">*</span></label>
          <div class="flex items-center justify-between gap-x-2 rounded-md">
            <input (keyup)="cart_search$.next($event.target.value)"
             (click)="inputClickedCart()" [value]="cart_name"
             #cartInput
             class="{{isFieldDisabled? 'pointer-events-none bg-gray-200 w-full px-4 py-2.5 text-gray-900  placeholder-gray-500 rounded-md border border-gray-300 focus:border-indigo-500 focus:outline-none focus:ring-indigo-500': 'w-full px-4 py-2.5 text-gray-900  placeholder-gray-500 rounded-md border border-gray-300 focus:border-indigo-500 focus:outline-none focus:ring-indigo-500'}}"
             placeholder="Select Combine" role="" aria-expanded="false" aria-controls="options">
          </div>

          <div *ngIf="allCartOperators | withLoading | async as allCartOperators" class="">
            <div class="flex justify-center items-center">
              <ion-spinner *ngIf="allCartOperators?.loading" name="crescent" mode="indeterminate"
                color="primary"></ion-spinner>
            </div>
            <ul *ngIf="allCartOperators?.value && cartUL"
              class="-mb-2 max-h-44 scroll-py-2 overflow-y-auto py-2 text-sm text-gray-800 bg-white drop-shadow-lg absolute w-full"
              id="options" role="listbox">
              <li *ngFor="let cartOperators of (allCartOperators?.value.employees)" (click)="listClickedCart(cartOperators)"
                class="cursor-pointer select-none rounded-md px-4 py-2 hover:bg-gray-200" role="option"
                tabindex="-1">
                <div class="flex items-center p-2">
                  {{cartOperators.first_name}} {{cartOperators.last_name}}
                </div>
              </li>
            </ul>
            <div *ngIf="combineUL?.value?.employees?.length === 0">
              <p disabled
                class="cursor-pointer select-none rounded-md px-4 py-2 hover:bg-gray-200 text-gray-500 hover:text-gray-700 hover:font-semibold">
                No cart operator(s) found </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  <!-- <div class="col-span-12 mb-4">
    <label class="block text-sm font-medium text-gray-700">Acres <span *ngIf="this.changeFieldFormChief.get('acres').hasError('required')" class="text-red-400">*</span></label>
    <input
      class="mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"
      formControlName="acres" placeholder="Acres">
  </div>
  <div class="col-span-12 mb-4">
    <label class="block text-sm font-medium text-gray-700">GPS Acres Completed (for prior field) <span *ngIf="this.changeFieldFormChief.get('acres_completed').hasError('required')" class="text-red-400">*</span></label>
    <input
      class="mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"
      formControlName="acres_completed" placeholder="GPS Acres Completed (for prior field)">
  </div> -->
      <!-- <ion-button expand="block" class="mt-5 font-Lato text-white" [disabled]="changeFieldFormChief.invalid || isFieldSelected" (click)="submit()">Save</ion-button> -->
</div>
<ion-button expand="block" [disabled]="isCombineSelected || isCartSelected"  class="font-Lato font-white text-white mt-4" (click)="add()">Add</ion-button>
</form>
<ion-card class="card">
  <ion-grid >
    <ion-row class="">
      <ion-col size="6"  class="" (click)="onClick('combine-operator')">
        <div class=" pl-2 pt-1 border rounded-md {{value === 'combine-operator'? 'border-3D8AA4 border-2':''}} bg-gray-200">
          <h1 class="font-Lato text-xs font-semibold">Combine Operator</h1>
          <span class="font-Lato text-xs font-semibold">10</span>
        </div>
      </ion-col>
      <ion-col size="6"  class="" (click)="onClick('cart-operator')">
        <div class=" pl-2 pt-1 border rounded-md {{value === 'cart-operator'? 'border-3D8AA4 border-2':''}} bg-gray-200">
          <h1 class="font-Lato text-xs font-semibold">Kart Operator</h1>
          <span class="font-Lato text-xs font-semibold">30</span>
        </div>
      </ion-col>
    </ion-row>

  <ion-row class="m-1" *ngIf="value === 'combine-operator'">
    <ion-col size="6" class="p-5 border-b-2">
      <div class="font-Lato font-semibold">Mike </div>
    </ion-col>
    <ion-col size="6" class="p-5 border-b-2">
      <div class="font-Lato 	">William</div>
    </ion-col>
    <ion-col size="6" class="p-5 border-b-2">
      <div class="font-Lato font-semibold	">Mike </div>
    </ion-col>
    <ion-col size="6" class="p-5 border-b-2">
      <div class="font-Lato">William</div>
    </ion-col>
    <ion-col size="6" class="p-5 border-b-2">
      <div class="font-Lato font-semibold	">Mike </div>
    </ion-col>
    <ion-col size="6" class="p-5 border-b-2">
      <div class="font-Lato">William</div>
    </ion-col>
    <ion-col size="6" class="p-5 border-b-2">
      <div class="font-Lato font-semibold	">Mike </div>
    </ion-col>
    <ion-col size="6" class="p-5 border-b-2">
      <div class="font-Lato">William</div>
    </ion-col>
    <ion-col size="6" class="p-5">
      <div class="font-Lato font-semibold	">Mike </div>
    </ion-col>
    <ion-col size="6" class="p-5">
      <div class="font-Lato">William</div>
    </ion-col>
  </ion-row>
  <ion-row class="m-1" *ngIf="value === 'cart-operator'">
    <ion-col size="6" class="p-5 border-b-2">
      <div class="font-Lato font-semibold">Mike1 </div>
    </ion-col>
    <ion-col size="6" class="p-5 border-b-2">
      <div class="font-Lato 	">William</div>
    </ion-col>
    <ion-col size="6" class="p-5 border-b-2">
      <div class="font-Lato font-semibold	">Mike2 </div>
    </ion-col>
    <ion-col size="6" class="p-5 border-b-2">
      <div class="font-Lato">William</div>
    </ion-col>
    <ion-col size="6" class="p-5 border-b-2">
      <div class="font-Lato font-semibold	">Mike </div>
    </ion-col>
    <ion-col size="6" class="p-5 border-b-2">
      <div class="font-Lato">William</div>
    </ion-col>
    <ion-col size="6" class="p-5 border-b-2">
      <div class="font-Lato font-semibold	">Mike </div>
    </ion-col>
    <ion-col size="6" class="p-5 border-b-2">
      <div class="font-Lato">William</div>
    </ion-col>
    <ion-col size="6" class="p-5">
      <div class="font-Lato font-semibold	">Mike </div>
    </ion-col>
    <ion-col size="6" class="p-5">
      <div class="font-Lato">William</div>
    </ion-col>
  </ion-row>
</ion-grid>
</ion-card>
<ion-button expand="block" class="font-Lato font-white text-white mt-4">Save</ion-button>

</div>
</ion-content>
