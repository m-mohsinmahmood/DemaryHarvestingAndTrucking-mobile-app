<app-header [title]="'Complete Delivery Ticket'" [color]="'harvesting'"></app-header>


<ion-content *ngIf="role === 'kart-operator'">
  <!-- <app-timer [value]="'12:32:11'"></app-timer> -->
  <ion-card>
    <ion-card-header class="bg-3D8AA4">
      <ion-card-title class="flex justify-center text-2xl font-Lato text-white">DHT Delivery Ticket</ion-card-title>
    </ion-card-header>
    <ion-card-content *ngIf="(isLoadingTicket$ | async) === false">
      <ion-grid>
        <!-- First Row -->
        <ion-row class="mb-1 h-16">
          <ion-col size="6" class="flex flex-col justify-evenly items-baseline ion-text-center">
            <p class="font-Lato text-black font-bold font-14">DHT Date</p>
            <span class="font-Lato font-14">Sun 5, 2022</span>
          </ion-col>
          <ion-col size="6" class="flex flex-col justify-evenly items-start ion-text-center">
            <p class="font-Lato text-black font-bold font-14">Customer Name</p>
            <span class="font-Lato font-14">{{ticket.customerName}}</span>
          </ion-col>
        </ion-row>

        <!-- Second Row -->
        <ion-row class="mb-1 h-16">
          <ion-col size="6" class="flex flex-col justify-evenly items-baseline ion-text-center">
            <p class="font-Lato text-black font-bold font-14">Farm</p>
            <span class="font-Lato font-14">{{ticket.farm_name}}</span>
          </ion-col>
          <ion-col size="6" class="flex flex-col justify-evenly items-start ion-text-center">
            <p class="font-Lato text-black font-bold font-14">Crop</p>
            <span class="font-Lato font-14 text-left">{{ticket.crop_name}}</span>
          </ion-col>
        </ion-row>

        <!-- Third Row -->
        <ion-row class="mb-1 h-16">
          <ion-col size="6" class="flex flex-col justify-evenly items-baseline ion-text-center">
            <p class="font-Lato text-black font-bold font-14">Field</p>
            <span class="font-Lato font-14">{{ticket.field_name}}</span>
          </ion-col>
          <ion-col size="6" class="flex flex-col justify-evenly items-start ion-text-center">
            <p class="font-Lato text-black font-bold font-14">Truck ID</p>
            <span class="font-Lato font-14">{{ticket.truck_id}}</span>
          </ion-col>
        </ion-row>

        <!-- Fourth Row -->
        <ion-row class="mb-1 h-16">
          <ion-col size="6" class="flex flex-col justify-evenly items-baseline ion-text-center">
            <p class="font-Lato text-black font-bold font-14">Truck Driver Name</p>
            <span class="font-Lato font-14">{{ticket.truck_driver_name}}</span>
          </ion-col>
          <ion-col size="6" class="flex flex-col justify-evenly items-start ion-text-center">
            <p class="font-Lato text-black font-bold font-14">Destination</p>
            <span class="font-Lato font-14">{{ticket.destination}}</span>
          </ion-col>
        </ion-row>

        <!-- Fifth Row -->
        <ion-row class="mb-1 h-16">
          <ion-col size="6" class="flex flex-col justify-evenly items-baseline ion-text-center">
            <p class="font-Lato text-black font-bold font-14">Loaded Miles</p>
            <span class="font-Lato font-14">{{ticket.loaded_miles}}</span>
          </ion-col>
          <ion-col size="6" class="flex flex-col justify-evenly items-start ion-text-center">
            <p class="font-Lato text-black font-bold font-14">Kart Operator</p>
            <span class="font-Lato font-14">{{ticket.kart_operator_name}}</span>
          </ion-col>
        </ion-row>

        <ion-row class="mb-1 h-16">
          <ion-col size="6" class="flex flex-col justify-evenly items-baseline ion-text-center">
            <p class="font-Lato text-black font-bold font-14">Driver</p>
            <span class="font-Lato font-14">{{ticket.truck_driver_name}}</span>
          </ion-col>
          <ion-col size="6" class="flex flex-col justify-evenly items-start ion-text-center">
            <p class="font-Lato text-black font-bold font-14">Scale Ticket Weight</p>
            <span class="font-Lato font-14">{{ticketData.scale_ticket_weight}}</span>
          </ion-col>
        </ion-row>
        <ion-row class="mb-1 h-16">
          <ion-col size="6" class="flex flex-col justify-evenly items-baseline ion-text-center">
            <p class="font-Lato text-black font-bold font-14">Moisture Content</p>
            <span class="font-Lato font-14">{{ticketData.moisture_content}}</span>
          </ion-col>
          <ion-col size="6" class="flex flex-col justify-evenly items-start ion-text-center">
            <p class="font-Lato text-black font-bold font-14">Scale Ticket</p>
            <span class="font-Lato font-14">{{ticketData.scale_ticket}}</span>
          </ion-col>
        </ion-row>
        <ion-row class="mb-1 h-16">
          <ion-col size="6" class="flex flex-col justify-evenly items-baseline ion-text-center">
            <p class="font-Lato text-black font-bold font-14">Kart Scale Weight</p>
            <span class="font-Lato font-14">{{ticket.kart_scale_weight}}</span>
          </ion-col>

        </ion-row>
      </ion-grid>
      <ion-button expand="block" class="mt-5 font-Lato text-white" (click)="submit()">
        <div *ngIf="(loadingSpinner | async) === false">Verify</div>
        <ion-spinner name="crescent" *ngIf="(loadingSpinner | async)"></ion-spinner>
      </ion-button>
    </ion-card-content>
    <ion-card-content *ngIf="(isLoadingTicket$ | async) === true">
      <ion-grid>
        <!-- First Row -->
        <ion-row class="mb-1 h-16">
          <ion-col size="6" class="flex flex-col justify-evenly items-baseline ion-text-center">
            <p class="font-Lato text-black font-bold font-14">DHT Date</p>
            <ion-skeleton-text [animated]="true" style="width: 80%;"></ion-skeleton-text>
          </ion-col>
          <ion-col size="6" class="flex flex-col justify-evenly items-start ion-text-center">
            <p class="font-Lato text-black font-bold font-14">Customer Name</p>
            <ion-skeleton-text [animated]="true" style="width: 80%;"></ion-skeleton-text>
          </ion-col>
        </ion-row>

        <!-- Second Row -->
        <ion-row class="mb-1 h-16">
          <ion-col size="6" class="flex flex-col justify-evenly items-baseline ion-text-center">
            <p class="font-Lato text-black font-bold font-14">Farm</p>
            <ion-skeleton-text [animated]="true" style="width: 80%;"></ion-skeleton-text>
          </ion-col>
          <ion-col size="6" class="flex flex-col justify-evenly items-start ion-text-center">
            <p class="font-Lato text-black font-bold font-14">Crop</p>
            <ion-skeleton-text [animated]="true" style="width: 80%;"></ion-skeleton-text>
          </ion-col>
        </ion-row>

        <!-- Third Row -->
        <ion-row class="mb-1 h-16">
          <ion-col size="6" class="flex flex-col justify-evenly items-baseline ion-text-center">
            <p class="font-Lato text-black font-bold font-14">Field</p>
            <ion-skeleton-text [animated]="true" style="width: 80%;"></ion-skeleton-text>
          </ion-col>
          <ion-col size="6" class="flex flex-col justify-evenly items-start ion-text-center">
            <p class="font-Lato text-black font-bold font-14">Truck ID</p>
            <ion-skeleton-text [animated]="true" style="width: 80%;"></ion-skeleton-text>
          </ion-col>
        </ion-row>

        <!-- Fourth Row -->
        <ion-row class="mb-1 h-16">
          <ion-col size="6" class="flex flex-col justify-evenly items-baseline ion-text-center">
            <p class="font-Lato text-black font-bold font-14">Truck Company</p>
            <ion-skeleton-text [animated]="true" style="width: 80%;"></ion-skeleton-text>
          </ion-col>
          <ion-col size="6" class="flex flex-col justify-evenly items-start ion-text-center">
            <p class="font-Lato text-black font-bold font-14">Destination</p>
            <ion-skeleton-text [animated]="true" style="width: 80%;"></ion-skeleton-text>
          </ion-col>
        </ion-row>

        <!-- Fifth Row -->
        <ion-row class="mb-1 h-16">
          <ion-col size="6" class="flex flex-col justify-evenly items-baseline ion-text-center">
            <p class="font-Lato text-black font-bold font-14">Loaded Miles</p>
            <ion-skeleton-text [animated]="true" style="width: 80%;"></ion-skeleton-text>
          </ion-col>
          <ion-col size="6" class="flex flex-col justify-evenly items-start ion-text-center">
            <p class="font-Lato text-black font-bold font-14">Kart Operator</p>
            <ion-skeleton-text [animated]="true" style="width: 80%;"></ion-skeleton-text>
          </ion-col>
        </ion-row>

        <ion-row class="mb-1 h-16">
          <ion-col size="6" class="flex flex-col justify-evenly items-baseline ion-text-center">
            <p class="font-Lato text-black font-bold font-14">Driver</p>
            <ion-skeleton-text [animated]="true" style="width: 80%;"></ion-skeleton-text>
          </ion-col>
          <ion-col size="6" class="flex flex-col justify-evenly items-start ion-text-center">
            <p class="font-Lato text-black font-bold font-14">Scale Ticket Weight</p>
            <ion-skeleton-text [animated]="true" style="width: 80%;"></ion-skeleton-text>
          </ion-col>
        </ion-row>
        <ion-row class="mb-1 h-16">
          <ion-col size="6" class="flex flex-col justify-evenly items-baseline ion-text-center">
            <p class="font-Lato text-black font-bold font-14">Moisture Content</p>
            <ion-skeleton-text [animated]="true" style="width: 80%;"></ion-skeleton-text>
          </ion-col>
          <ion-col size="6" class="flex flex-col justify-evenly items-start ion-text-center">
            <p class="font-Lato text-black font-bold font-14">Scale Ticket</p>
            <ion-skeleton-text [animated]="true" style="width: 80%;"></ion-skeleton-text>
          </ion-col>
        </ion-row>
        <ion-row class="mb-1 h-16">
          <ion-col size="6" class="flex flex-col justify-evenly items-baseline ion-text-center">
            <p class="font-Lato text-black font-bold font-14">Kart Scale Weight</p>
            <ion-skeleton-text [animated]="true" style="width: 80%;"></ion-skeleton-text>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-card-content>
  </ion-card>
</ion-content>

<ion-content *ngIf="role === 'truck-driver'">
  <!-- <app-timer [value]="'23:44:12'"></app-timer> -->
  <ion-card>
    <ion-card-header class="bg-3D8AA4">
      <ion-card-title class="font-Lato flex justify-center text-2xl text-white">Delivery Ticket#
        {{ticketID.substring(0,8)}}</ion-card-title>
    </ion-card-header>

    <ion-card-content>

      <ion-grid *ngIf="(isLoadingTicket$ | async) === false">
        <ion-row class="mb-5 h-10">
          <ion-col size="6" class="ion-text-center flex flex-col items-start justify-center">
            <p class="font-Lato font-14 font-bold text-black">Field</p>
            <span class="font-Lato font-14">{{ticket.field_name}}</span>
          </ion-col>
          <ion-col size="6" class="ion-text-center flex flex-col items-start justify-center">
            <p class="font-Lato font-14 font-bold text-black">Destination</p>
            <span class="font-Lato font-14">{{ticket.destination}}</span>
          </ion-col>
        </ion-row>
        <ion-row class="mb-5 h-10">
          <ion-col size="6" class="ion-text-center flex flex-col items-start justify-center">
            <p class="font-Lato font-14 font-bold text-black">Farms</p>
            <span class="font-Lato font-14">{{ticket.farm_name}}</span>
          </ion-col>
          <ion-col size="6" class="ion-text-center flex flex-col items-start justify-center">
            <p class="font-Lato font-14 font-bold text-black">Crop</p>
            <span class="font-Lato font-14 text-left">{{ticket.crop_name}}</span>
          </ion-col>
        </ion-row>
      </ion-grid>

      <ion-grid *ngIf="(isLoadingTicket$ | async) === true">
        <ion-row class="mb-5 h-10">
          <ion-col size="6" class="ion-text-center flex flex-col items-start justify-center">
            <p class="font-Lato font-14 font-bold text-black">Field</p>
            <ion-skeleton-text [animated]="true" style="width: 80%;"></ion-skeleton-text>
          </ion-col>
          <ion-col size="6" class="ion-text-center flex flex-col items-start justify-center">
            <p class="font-Lato font-14 font-bold text-black">Destination</p>
            <ion-skeleton-text [animated]="true" style="width: 80%;"></ion-skeleton-text>
          </ion-col>
        </ion-row>
        <ion-row class="mb-5 h-10">
          <ion-col size="6" class="ion-text-center flex flex-col items-start justify-center">
            <p class="font-Lato font-14 font-bold text-black">Farms</p>
            <ion-skeleton-text [animated]="true" style="width: 80%;"></ion-skeleton-text>
          </ion-col>
          <ion-col size="6" class="ion-text-center flex flex-col items-start justify-center">
            <p class="font-Lato font-14 font-bold text-black">Crop</p>
            <ion-skeleton-text [animated]="true" style="width: 80%;"></ion-skeleton-text>
          </ion-col>
        </ion-row>
      </ion-grid>

      <form [formGroup]="generateTicketFormTruck">
        <div class="col-span-12 mb-2">
          <label class="block text-sm font-medium text-gray-700">Scale Ticket Number<span
              *ngIf="this.generateTicketFormTruck.get('scaleTicket').hasError('required')"
              class="text-red-400">*</span></label>
          <input
            class="mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"
            formControlName="scaleTicket" placeholder="Scale Ticket" />
        </div>
      </form>
