<app-header [title]="'Assign Ticket'" [color]="'maintenance-repair'"></app-header>

<ion-content>
  <app-timer [value]="'01:12:45'"></app-timer>

  <div class="p-4">
    <form [formGroup]="assignTicket">
      <ion-list>

        <ion-item>
          <ion-label position="floating">Repair Ticket Number</ion-label>
          <ion-input formControlName="repairTicketNum" placeholder="Repair Ticket Number"></ion-input>
        </ion-item>
        <ion-text *ngIf="this.assignTicket.get('repairTicketNum').hasError('required')"
          class="text-xs font-semibold font-Lato text-red-500 ml-5 mt-1">Ticket No. required</ion-text>

        <ion-item>
          <ion-label position="floating">Employee (Issue Reported)</ion-label>
          <ion-input formControlName="emp" placeholder="Employee Name"></ion-input>
        </ion-item>
        <ion-text *ngIf="this.assignTicket.get('emp').hasError('required')"
          class="text-xs font-semibold font-Lato text-red-500 ml-5 mt-1">Employee required</ion-text>

        <ion-text class="block mt-8">
          <ion-label class="ml-5" position="floating">Assigned by Mechanic/Supervisor</ion-label>
        </ion-text>
        <ion-item>
          <ion-select formControlName="assignedBy" placeholder="Assigned by">
            <ion-select-option value="mike-kennedy">Mike Kennedy</ion-select-option>
            <ion-select-option value="bile-handy">Bile Handy</ion-select-option>
          </ion-select>
        </ion-item>
        <ion-text *ngIf="this.assignTicket.get('assignedBy').hasError('required')"
          class="text-xs font-semibold font-Lato text-red-500 ml-5 mt-1">Assigned By required</ion-text>

        <ion-item>
          <ion-label position="floating">Assigned to Mechanic/Employee</ion-label>
          <ion-input formControlName="assignedTo" placeholder="Enter Employee Name"></ion-input>
        </ion-item>
        <ion-text *ngIf="this.assignTicket.get('assignedTo').hasError('required')"
          class="text-xs font-semibold font-Lato text-red-500 ml-5 mt-1">Assigned To required</ion-text>

        <ion-item>
          <ion-label position="floating">Equipment ID</ion-label>
          <ion-input formControlName="equipID" placeholder="Equipment ID"></ion-input>
        </ion-item>
        <ion-text *ngIf="this.assignTicket.get('equipID').hasError('required')"
          class="text-xs font-semibold font-Lato text-red-500 ml-5 mt-1">Equipment ID required</ion-text>

        <ion-item>
          <ion-label position="floating">City</ion-label>
          <ion-input formControlName="city" placeholder="City"></ion-input>
        </ion-item>
        <ion-text *ngIf="this.assignTicket.get('city').hasError('required')"
          class="text-xs font-semibold font-Lato text-red-500 ml-5 mt-1">City required</ion-text>

        <ion-item>
          <ion-label position="floating">State</ion-label>
          <ion-input formControlName="state" placeholder="State"></ion-input>
        </ion-item>
        <ion-text *ngIf="this.assignTicket.get('state').hasError('required')"
          class="text-xs font-semibold font-Lato text-red-500 ml-5 mt-1">State required</ion-text>

        <ion-item>
          <ion-label position="floating">Category</ion-label>
          <ion-input formControlName="category" placeholder="Enter Category"></ion-input>
        </ion-item>
        <ion-text *ngIf="this.assignTicket.get('category').hasError('required')"
          class="text-xs font-semibold font-Lato text-red-500 ml-5 mt-1">Category required</ion-text>

        <ion-item>
          <ion-label position="floating">Severity</ion-label>
          <ion-input formControlName="severity" placeholder="Severity"></ion-input>
        </ion-item>
        <ion-text *ngIf="this.assignTicket.get('severity').hasError('required')"
          class="text-xs font-semibold font-Lato text-red-500 ml-5 mt-1">Severity required</ion-text>

        <ion-item>
          <ion-label position="floating">Status</ion-label>
          <ion-input formControlName="status" placeholder="Severity"></ion-input>
        </ion-item>
        <ion-text *ngIf="this.assignTicket.get('status').hasError('required')"
          class="text-xs font-semibold font-Lato text-red-500 ml-5 mt-1">Status required</ion-text>

        <ion-item>
          <ion-label position="floating">Detailed Description of Issue</ion-label>
          <ion-textarea formControlName="description" placeholder="Type something here"></ion-textarea>
        </ion-item>
        <ion-text *ngIf="this.assignTicket.get('description').hasError('required')"
          class="text-xs font-semibold font-Lato text-red-500 ml-5 mt-1">Description required</ion-text>

        <ion-item>
          <ion-label position="floating">Repair Summary</ion-label>
          <ion-textarea formControlName="summary" placeholder="Enter Repair Summary"></ion-textarea>
        </ion-item>
      </ion-list>
      <ion-text *ngIf="this.assignTicket.get('summary').hasError('required')"
        class="text-xs font-semibold font-Lato text-red-500 ml-5 mt-1">Summary required</ion-text>

      <ion-button [disabled]="this.assignTicket.invalid" class="font-Lato text-white mt-8" expand="block"
       (click)="submit()">
        Save and Submit
      </ion-button>
    </form>

  </div>
</ion-content>
