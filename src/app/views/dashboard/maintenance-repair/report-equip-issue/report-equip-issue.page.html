<app-header [title]="'Report New Equipment Issue'" [color]="'maintenance-repair'"></app-header>

<ion-content>
  <app-timer [value]="'01:12:45'"></app-timer>

  <div class="p-4">
    <form [formGroup]="reportNewEquipIssue">
      <ion-list>

        <div class="col-span-12 mb-4">
          <label class="block text-sm font-medium text-gray-700">Employee Name</label>
          <input
            class="mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"
            formControlName="empId" placeholder="Employee Name">
          <ion-text *ngIf="this.reportNewEquipIssue.get('empId').hasError('required')"
            class="mt-2 text-sm text-red-600">Employee Name is required</ion-text>
        </div>

        <div class="col-span-12 mb-4">
          <label class="block text-sm font-medium text-gray-700">City</label>
          <input
            class="mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"
            formControlName="city" placeholder="City">
          <ion-text *ngIf="this.reportNewEquipIssue.get('city').hasError('required')" class="mt-2 text-sm text-red-600">
            City is required</ion-text>
        </div>

        <div class="col-span-12 mb-4">
          <label class="block text-sm font-medium text-gray-700">State</label>
          <input
            class="mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"
            formControlName="state" placeholder="State">
          <ion-text *ngIf="this.reportNewEquipIssue.get('state').hasError('required')"
            class="mt-2 text-sm text-red-600">State is required</ion-text>
        </div>

        <div class="col-span-12 mb-4">
          <label class="block text-sm font-medium text-gray-700">Maintenance or Repair</label>
          <ion-select
            class="mt-1 w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"
            formControlName="categoryTaskId" placeholder="Select Category">
            <ion-select-option value="1">Maintenance</ion-select-option>
            <ion-select-option value="2">Repair</ion-select-option>
          </ion-select>
          <ion-text *ngIf="this.reportNewEquipIssue.get('categoryTaskId').hasError('required')"
            class="mt-2 text-sm text-red-600">Category is required</ion-text>
        </div>

        <div class="col-span-12 mb-4">
          <label class="block text-sm font-medium text-gray-700">Ticket #</label>
          <input
            class="mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"
            readonly placeholder="12345">
        </div>

        <div class="col-span-12 mb-4">
          <label class="ml-5" class="block text-sm font-medium text-gray-700">Category</label>
          <ion-select
            class="mt-1 w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"
            formControlName="categoryDepartmentId" placeholder="Select Category">
            <ion-select-option value="1">Electrical</ion-select-option>
            <ion-select-option value="2">Mechanical</ion-select-option>
          </ion-select>
          <ion-text *ngIf="this.reportNewEquipIssue.get('categoryDepartmentId').hasError('required')"
            class="mt-2 text-sm text-red-600">Category is required</ion-text>
        </div>

        <div class="col-span-12 mb-4">
          <label class="ml-5" class="block text-sm font-medium text-gray-700">Severity</label>
          <ion-select
            class="mt-1 w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"
            formControlName="severityId" placeholder="Select Category">
            <ion-select-option value="1">Critical</ion-select-option>
          </ion-select>
          <ion-text *ngIf="this.reportNewEquipIssue.get('severityId').hasError('required')"
            class="mt-2 text-sm text-red-600">Severity is required</ion-text>
        </div>

        <div class="col-span-12 mb-4">
          <label class="ml-5" class="block text-sm font-medium text-gray-700">Status</label>
          <ion-select
            class="mt-1 w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"
            formControlName="repairCategoryId" placeholder="Select Category">
            <ion-select-option value="1">Repair Reported</ion-select-option>
          </ion-select>
          <ion-text *ngIf="this.reportNewEquipIssue.get('repairCategoryId').hasError('required')"
            class="mt-2 text-sm text-red-600">Category is required</ion-text>
        </div>

        <div class="col-span-12 mb-4">
          <label class="block text-sm font-medium text-gray-700">Detail Description of Issue</label>
          <textarea
            class="mt-1 w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"
            formControlName="detailedDescription" placeholder="Type something here"></textarea>
          <ion-text *ngIf="this.reportNewEquipIssue.get('detailedDescription').hasError('required')"
            class="mt-2 text-sm text-red-600">Description is required</ion-text>
        </div>
      </ion-list>

      <ion-button [disabled]="this.reportNewEquipIssue.invalid" class="font-Lato text-white mt-8" expand="block"
        (click)="submit()"> Save
        and Submit </ion-button>
    </form>

  </div>
</ion-content>
