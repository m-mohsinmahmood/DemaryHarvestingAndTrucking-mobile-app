<app-header [title]="['Create New Repair Ticket']" [color]="'maintenance-repair'" *ngIf="category === 'repair'">
</app-header>
<app-header [title]="['Create New Maintenance Ticket']" [color]="'maintenance-repair'"
  *ngIf="category === 'maintenance'">
</app-header>

<ion-content>
  <app-timer [value]="'12-11-2023'"></app-timer>

  <div class="p-4">
    <form [formGroup]="createTicket">
      <ion-list>

        <div class="col-span-12 mb-4">
          <label class="block text-sm font-medium text-gray-700" *ngIf="category === 'repair'">Repair Ticket
            Number<span class="text-red-600"
              *ngIf="this.createTicket.get('repairTicketId').hasError('required')">*</span></label>
          <label class="block text-sm font-medium text-gray-700" *ngIf="category === 'maintenance'">Maintenance Ticket
            Number<span class="text-red-600"
              *ngIf="this.createTicket.get('repairTicketId').hasError('required')">*</span></label>
          <input
            class="mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"
            formControlName="repairTicketId" placeholder="Ticket Number">
        </div>

        <div class="col-span-12 mb-4">
          <label class="ml-5" class="block text-sm font-medium text-gray-700">Assigned by Mechanic/Supervisor<span
              class="text-red-600" *ngIf="this.createTicket.get('assignedById').hasError('required')">*</span></label>
          <ion-select
            class="mt-1 w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"
            formControlName="assignedById" placeholder="Assigned by">
            <ion-select-option value="1">Mike Kennedy</ion-select-option>
            <ion-select-option value="2">Bile Handy</ion-select-option>
          </ion-select>
        </div>

        <div class="col-span-12 mb-4">
          <label class="block text-sm font-medium text-gray-700">Assigned to Mechanic/Employee<span class="text-red-600"
              *ngIf="this.createTicket.get('assignedToId').hasError('required')">*</span></label>
          <input
            class="mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"
            formControlName="assignedToId" placeholder="Enter Employee Name">
        </div>

        <div class="col-span-12 mb-4">
          <label class="block text-sm font-medium text-gray-700">Equipment ID<span class="text-red-600"
              *ngIf="this.createTicket.get('equipID').hasError('required')">*</span></label>
          <input
            class="mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"
            formControlName="equipID" placeholder="Equipment ID">
        </div>

        <div class="col-span-12 mb-4">
          <label class="block text-sm font-medium text-gray-700">Equipment Location (City)<span class="text-red-600"
              *ngIf="this.createTicket.get('city').hasError('required')">*</span></label>
          <input
            class="mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"
            formControlName="city" placeholder="City">
        </div>

        <div class="col-span-12 mb-4">
          <label class="block text-sm font-medium text-gray-700">Equipment Location (State)<span class="text-red-600"
              *ngIf="this.createTicket.get('state').hasError('required')">*</span></label>
          <input
            class="mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"
            formControlName="state" placeholder="State">
        </div>

        <div class="col-span-12 mb-4">
          <label class="block text-sm font-medium text-gray-700">Category<span class="text-red-600"
              *ngIf="this.createTicket.get('categoryId').hasError('required')">*</span></label>
          <input
            class="mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"
            formControlName="categoryId" placeholder="Enter Category">
        </div>

        <div class="col-span-12 mb-4">
          <label class="block text-sm font-medium text-gray-700">Severity<span class="text-red-600"
              *ngIf="this.createTicket.get('severityId').hasError('required')">*</span></label>
          <input
            class="mt-1 block w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"
            formControlName="severityId" placeholder="Severity">
        </div>

        <div class="col-span-12 mb-4">
          <label class="ml-5" class="block text-sm font-medium text-gray-700">Status<span class="text-red-600"
              *ngIf="this.createTicket.get('status').hasError('required')">*</span></label>
          <ion-select
            class="mt-1 w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"
            formControlName="status" placeholder="Status">
            <ion-select-option value="1" *ngIf="category === 'repair'">Repair In Process</ion-select-option>
            <ion-select-option value="2" *ngIf="category === 'maintenance'">Maintenance In Process</ion-select-option>
          </ion-select>
        </div>

        <div class="col-span-12 mb-4">
          <label class="block text-sm font-medium text-gray-700">Detailed Description of Issue<span class="text-red-600"
              *ngIf="this.createTicket.get('description').hasError('required')">*</span></label>
          <textarea
            class="mt-1 w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"
            formControlName="description" placeholder="Type something here">
          </textarea>
        </div>

        <div class="col-span-12 mb-4">
          <label class="block text-sm font-medium text-gray-700" *ngIf="category === 'repair'">Repair Summary<span
              class="text-red-600" *ngIf="this.createTicket.get('summary').hasError('required')">*</span></label>
          <label class="block text-sm font-medium text-gray-700" *ngIf="category === 'maintenance'">Maintenance Summary
            <span class="text-red-600" *ngIf="this.createTicket.get('summary').hasError('required')">*</span></label>
          <textarea
            class="mt-1 w-full rounded-md border border-gray-300 py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"
            formControlName="summary" placeholder="Enter Summary">
          </textarea>
        </div>

      </ion-list>

      <ion-button [disabled]="this.createTicket.invalid" class="font-Lato text-white mt-8" expand="block"
        (click)="submit()">
        Save and Submit
      </ion-button>
    </form>
  </div>

</ion-content>
